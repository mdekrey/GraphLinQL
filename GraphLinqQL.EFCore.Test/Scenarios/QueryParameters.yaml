scenario: Query Parameters
tests:
  - name: Parameterized Query on a Droid
    given:
      query: |
        {
          droid(id: "2000") {
            name
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "droid": {
                    "name": "C-3PO"
                }
            }
        }
        
  - name: Parameterized Query on a Human
    given:
      query: |
        {
          human(id: "1000") {
            name
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "human": {
                    "name": "Luke Skywalker"
                }
            }
        }
        
  - name: Renaming field on a Droid
    given:
      query: |
        {
          droid(id: "2000") {
            id
            droidName: name
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "droid": {
                    "id": "2000",
                    "droidName": "C-3PO"
                }
            }
        }

  - name: Missing parameter on Droid
    given:
      query: |
        {
          droid {
            name
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
          "errors": [
            {
              "message": "Missing argument \u0022id\u0022 for field \u0022droid\u0022.",
              "errorCode": "missingArgument",
              "locations": [
                {
                  "Line": 2,
                  "Column": 2
                }
              ],
              "arguments": {
                "fieldName": "droid",
                "argument": "id"
              }
            }
          ]
        }

  - name: Parameterized Query with Variables on a Droid
    given:
      query: |
        query ($id: ID!) {
          droid(id: $id) {
            name
          }
        }
      variables:
        id: "2000"
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "droid": {
                    "name": "C-3PO"
                }
            }
        }
        
  - name: Default parameter on a Human
    given:
      query: |
        {
          human(id: "1000") {
            name
            height
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "human": {
                    "name": "Luke Skywalker",
                    "height": 1.72
                }
            }
        }
        
  - name: Inline enum parameter on a Human
    given:
      query: |
        {
          human(id: "1000") {
            name
            height(unit: FOOT)
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "human": {
                    "name": "Luke Skywalker",
                    "height": 5.6430448
                }
            }
        }
        
  - name: Variable enum parameter on a Human
    given:
      query: |
        query ($unit: LengthUnit!) {
          human(id: "1000") {
            name
            height(unit: $unit)
          }
        }
      variables:
        unit: "FOOT"
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "human": {
                    "name": "Luke Skywalker",
                    "height": 5.6430448
                }
            }
        }
        