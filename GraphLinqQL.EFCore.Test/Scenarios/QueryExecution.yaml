scenario: Schema Parser
tests:
  - name: Parameterized Query on a Droid
    given:
      query: |
        {
          droid(id: "2000") {
            name
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "droid": {
                    "name": "C-3PO"
                }
            }
        }

  - name: Missing parameter on Droid
    given:
      query: |
        {
          droid {
            name
          }
        }
    when:
      execute: true
    then:
      match-result: |
        {
          "errors": [
            {
              "message": "Missing argument \u0022id\u0022 for field \u0022droid\u0022.",
              "errorCode": "missingArgument",
              "locations": [
                {
                  "Line": 2,
                  "Column": 2
                }
              ],
              "arguments": {
                "fieldName": "droid",
                "argument": "id"
              }
            }
          ]
        }

  - name: Parameterized Query with Variables on a Droid
    given:
      query: |
        query ($id: String!) {
          droid(id: $id) {
            name
          }
        }
      variables:
        id: "2000"
    when:
      execute: true
    then:
      match-result: |
        {
            "data": {
                "droid": {
                    "name": "C-3PO"
                }
            }
        }